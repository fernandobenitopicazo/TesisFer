\pagestyle{empty}
\chapter{Preliminares}\label{cap:preliminares}
\pagestyle{headings}

\bigdrop{0pt}{5}{cmr10}A lo largo de este capítulo vamos a introducir los principales conceptos, definiciones y propiedades de FCA\index{Análisis Formal de Conceptos} como marco de investigación principal sobre el que se sustenta el trabajo de investigación desarrollado. Procederemos de forma que consigamos que el texto sea autocontenido en la medida de lo posible. Más concretamente, se introducen los principales conceptos sobre conjuntos de implicaciones y conjuntos cerrados que serán necesarios a lo largo del documento para poder plasmar en detalle las contribuciones realizadas. La referencia principal de este campo de conocimiento viene de la mano de Wille y Ganter en \cite{Ganter1997}.

\section{Análisis de conceptos formales}
De forma general, podemos considerar FCA como un método de análisis de datos que facilita la extracción de conocimiento y la posibilidad de poder razonar al respecto. Es un marco conceptual con el que: analizar, estructurar, visualizar y sobre todo, revelar el conocimiento subyacente a los datos utilizando, generalmente, técnicas de minería de datos. Existen varias de estas técnicas para actuar sobre conjuntos de objetos, conjuntos de atributos y las relaciones que se establecen entre ellos \cite{Stumme2002,Sun2012}.

La característica principal de FCA es que, basado en sólidos fundamentos matemáticos, cubre una amplia gama de áreas de aplicación. Su motivación original fue la representación de retículos completos de objetos y sus propiedades por medio de contextos formales, que son tablas de datos que representan relaciones binarias entre objetos y atributos. Por otro lado, FCA puede verse como una alternativa razonable a la Teoría de Retículos en términos epistemológicos \cite{Wille2008}.

El punto de partida de FCA es un \textbf{contexto formal}\index{contexto formal}, lo cual nos conduce necesariamente a las dos siguientes definiciones.

\begin{definicion}[Atributo]
	Un atributo $A$ es un identificador para un elemento en un dominio $D$.
\end{definicion}

\begin{definicion}[Contexto formal]
	Un contexto formal es una tripleta $\mathbf{K} := (G,M,I)$ que consiste en dos conjuntos no vacíos, $G$ y $M$, y una relación binaria $I$ entre ellos. Los elementos de $G$ se llaman objetos del contexto, y los elementos de $M$ se llaman atributos del contexto. Para $g \in G$ y $m \in M$, escribimos $<g,m> \in I$ o $gIm$ si el objeto $g$ posee el atributo $m$.
\end{definicion}

De forma más específica, un contexto formal se puede considerar como un grafo bipartito que refleje las relaciones entre los conjuntos $G$ y $M$, o también, como una una tabla donde los objetos se sitúan en las filas de la tabla y los atributos en las columnas, de forma que un valor lógico en cada celda nos indica si un objeto $g \in G$ posee un atributo $m \in M$. 

\begin{ejemplo}
	Consideremos un ejemplo de contexto formal en el cual los objetos ($G$) son hoteles, los atributos ($M$) son diferentes servicios que ofrece el establecimiento y en cada celda de la tabla encontraremos una equis siempre y cuando el correspondiente hotel ofrezca el correspondiente servicio. Por tanto, tendremos el contexto formal $\mathbf{K} := (G,M,I)$ en el cual:

	G = \{Fuerte Estepona Suites, Hotel Buenavista, Hotel Paraiso, Apts Marriot Playa, Hotel Piedra Paloma, Hostal Hospederia V Cent\}

	M = \{AC, Bar, Gym, Internet, Masajes, Parking\}

	La Tabla \ref{table:hotelsExtract} muestra la relación binaria $I$ del contexto formal $K$ utilizando información real de varios hoteles de la Costa del Sol.

\begin{table*}[tb]
\caption{Ejemplo de contexto formal utilizando datos reales del sector hotelero}
\label{table:hotelsExtract} 
\centering
{\scriptsize
\begin{tabular}{lccccccccc}
\hline
Nombre del Hotel & AC & Bar & Gym & Internet & Masajes & Parking\\
\hline
Fuerte Estepona Suites & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark\\
Hotel Buenavista &  & \checkmark &  &  &  & \checkmark \\
Hotel Paraiso & \checkmark & \checkmark &  &  &  & \checkmark \\
Apts Marriot Playa &  &  &  & \checkmark &  &  \\
Hotel Piedra Paloma &  & \checkmark &  &  &  & \checkmark \\
Hostal Hospederia V Cent & \checkmark & \checkmark &  & \checkmark &  & \checkmark \\\ldots\\
\hline
\end{tabular}
}
\end{table*}

	Por tanto, vemos como el hotel \textit{Fuerte Estepona Suites} ofrece todos los servicios disponibles en el contexto, mientras que los \textit{Apts Marriot Playa} únicamente ofrecen el servicio de \textit{Internet}.
\end{ejemplo}

A partir del contexto formal, se definen dos operadores llamados operadores de derivación\index{operadores de derivación}. 

\begin{definicion}[Operadores de derivación]
	Dado un contexto formal $\mathbf{K} := (G,M,I)$, a continuación se definen dos funciones, denominadas operadores de derivación:

$$
\begin{array}{ll}
(\ )'\colon 2^G  \to 2^M
&
(\ )'\colon 2^M  \to 2^G
\\[2mm]
A' = \{m \in M \mid g\I m  \quad \forall g \in A\}\qquad
&
B' = \{g \in G \mid g\I m  \quad \forall m \in B\}
\end{array}
$$
\end{definicion}

Ambas funciones se denotan con el mismo símbolo porque no hay lugar a confusión. El primero asigna a cada conjunto de objetos, el conjunto de atributos comunes a todos los objetos, y el segundo asigna, a cada conjunto de atributos, el conjunto de objetos que tienen todos estos atributos.

El par de operadores de derivación constituye una conexión anti-monótona de Galois \cite{Ore1944} con las consecuencias correspondientes, como que ambas composiciones son operadores de cierre, una de ellas en $(2^G,\subseteq)$ y la otra en $(2^M,\subseteq)$.

\begin{definicion}[Mapeo anti-monótono]\index{Mapeo anti-monótono}
	Sean $G$ y $M$ dos conjuntos no vacíos. Un mapeo de la forma $f : 2^G \to 2^M$ se dice anti-monótono si $A_1 \subseteq A_2$ implica que $f(A_2) \subseteq f(A_1) \ \ \forall A_1, A_2 \subseteq G$.
\end{definicion}

\begin{definicion}[Conexión de Galois]\index{Conexión de Galois}
	Sean $G$ y $M$ dos conjuntos no vacíos. Un par (f,g) de dos mapeos $f : 2^G \to 2^M$ y $g : 2^G \to 2^M$ es una conexión de Galois entre $G$ y $M$ si, para cada $A \subseteq G$ y $B \subseteq M$ se cumple que:	$A \subseteq g(B)$ si y sólo si $B \subseteq f(A)$.
\end{definicion}

El operador de cierre $''$ (i.e. aplicar el operador de derivación $'$ dos veces) verifica algunas propiedades interesantes que serán fundamentales para poder desarrollar la teoría formal.

\begin{definicion}[Operador de cierre]\index{operador de cierre}
	Dado un conjunto no vacío M, un operador de cierre sobre M es una función $()'' : 2^G \to 2^M$ que satisface las siguientes propiedades:
	\begin{itemize}
		\item Idempotente (ítems): $X'''' = X'' \quad \forall X \in 2^M$
		\item Monótona (atributos): $X \subseteq Y$ $\rightarrow$ $X'' \subseteq Y'' \quad \forall X,Y \in 2^M$ 
		\item Extensa: $X \subseteq X'' \quad \forall X \in 2^M$
	\end{itemize}
\end{definicion}

En general no se verifica que $X'' = X$ , no obstante, cuando un conjunto de objetos, $X \subseteq G$ verifica $X'' = X$, se llama conjunto cerrado. De manera análoga a los conjuntos de objetos, podemos hablar de conjuntos de atributos cerrados. El par $(M,'')$ se denomina sistema cierre y un conjunto $A \subseteq M$ se denomina conjunto cerrado para $''$ si es un punto fijo para $''$, es decir, $''(A)=A$. La idempotencia de los operadores de cierre nos lleva al hecho de que, para todo sistema de cierre $(M,'')$ y todo $A \subseteq M$, el conjunto $''(A)$ es cerrado para $''$.

Además, los conjuntos cerrados\index{conjuntos cerrados} definen lo que se denominan \textit{conceptos formales}\index{concepto formal}. De forma general, un concepto formal, que constituye un punto clave en FCA, permite describir formalmente un hecho del modelo y caracterizar un conjunto de objetos por medio de los atributos que comparten y viceversa. 

De forma más intuitiva, un par $(X,Y)$ es un concepto si se verifica que:
\begin{itemize}
	\item Cada objeto en $X$ tiene todos los atributos de $Y$.
	\item Para cada objeto en $G$ que no está en $X$, existe un atributo en $Y$ que el objeto no tiene.
	\item Para cada atributo en $M$ que no está en $Y$, hay un objeto en $X$ que no tiene ese atributo.
\end{itemize}

En otras palabras, $(X,Y)$ es un concepto formal si $X$ contiene todos los objetos cuyos atributos están en $Y$ y, análogamente, $Y$ contiene todos los atributos verificados por los objetos en $X$.

De esta forma, conseguimos introducir en la definición las dos partes esenciales: en primer lugar, el conjunto de objetos con propiedades comunes, y en segundo lugar, el conjunto de atributos que caracterizan a dichos objetos. Únicamente aquellos pares de conjuntos $(X,Y)$ que tienen un cierre completo, establecen un concepto por sí mismos. En esta situación, los conjuntos $X$ e $Y$ son cerrados y se llaman, respectivamente, la \textit{extensión} y la \textit{intensión} del concepto. Para un conjunto de objetos $X$, el conjunto de sus atributos comunes $X'$, describe la similitud de los objetos de $X$, mientras que el conjunto $X''$ es la agrupación de aquellos objetos que tienen como atributos comunes a $X'$, en particular, todos los objetos de $X$, es decir, $X \subseteq X''$.

Más formalmente:

\begin{definicion}[Concepto formal]
	Sea $\mathbf{K} := (G,M,I)$ un contexto formal y $X \subseteq G$, $Y \subseteq M$. El par (X,Y) se denomina concepto formal si $X'=Y$ y $Y'=X$. El conjunto de objetos $X$ se denomina extensión del concepto (X,Y) mientras que el conjunto de atributos $Y$ será la intensión del concepto.
\end{definicion}

El conjunto de todos los conceptos formales de un contexto formal $K$ constituye el denominado \textit{retículo de conceptos} con la relación de inclusión que se muestra a continuación.

Si $(X_1,Y_1)$ y $(X_2,Y_2)$ son conceptos, se define un orden parcial, $\leq$, de forma que $(X_1,Y_1) \leq (X_2,Y_2)$ si $X_1 \subseteq X_2$, o equivalentemente, si $Y_2 \subseteq Y_1$.

Los pares de conceptos en este orden parcial tienen una única máxima cota inferior, que es el concepto generado por $X_1 \cap X_2$. De forma análoga, poseen una única mínima cota superior, el concepto generado por los atributos $Y_1 \cap Y_2$. Por medio de estas operaciones de cálculo del máximo y del mínimo de dos conceptos, se satisfacen los axiomas que definen un retículo. La Figura \ref{figura:ejemploReticulo} muestra un ejemplo básico de contexto formal\index{contexto formal} y retículo de conceptos\index{retículo de concepto} asociado.

%\begin{minipage}{0.2\textwidth}
%	\begin{table*}[tb]
%		\caption{Ejemplo de contexto formal utilizando datos reales del sector hotelero}
%		\label{table:hotelsExtract} 
%		\centering
%		{\scriptsize
%		\begin{tabular}{lccccccccc}
%			\hline
%			Nombre del Hotel & AC & Bar & Gym & Internet & Masajes & Parking\\
%			\hline
%			Fuerte Estepona Suites & X & X & X & X & X & X\\
%			Hotel Buenavista &  & X &  &  &  & X \\
%			Hotel Paraiso & X & X &  &  &  & X \\
%			Apts Marriot Playa &  &  &  & X &  &  \\
%			Hotel Piedra Paloma &  & X &  &  &  & X \\
%			Hostal Hospederia V Cent & X & X &  & X &  & X \\
%			\ldots\\
%			\hline
%		\end{tabular}
%		}
%	\end{table*}
%\end{minipage}

%\begin{minipage}{0.2\textwidth}
%	\begin{figure}[htbp]
%		\begin{center}
%			\includegraphics[height=.4\textheight,width=.55\textwidth]{ejemploReticulo.png}
%		\end{center}
%		\caption{Ejemplo de retículo de conceptos de un contexto formal.}
%		\label{figura:ejemploReticulo}
%	\end{figure}
%\end{minipage}

%\begin{table*}[tb]
%		\caption{Ejemplo de contexto formal utilizando datos reales del sector hotelero}
%		\label{table:hotelsExtract} 
%		\centering
%		{\scriptsize
%		\begin{tabular}{lccccccccc}
%			\hline
%			Nombre del Hotel & AC & Bar & Gym & Internet & Masajes & Parking\\
%			\hline
%			Fuerte Estepona Suites & X & X & X & X & X & X\\
%			Hotel Buenavista &  & X &  &  &  & X \\
%			Hotel Paraiso & X & X &  &  &  & X \\
%			Apts Marriot Playa &  &  &  & X &  &  \\
%			Hotel Piedra Paloma &  & X &  &  &  & X \\
%			Hostal Hospederia V Cent & X & X &  & X &  & X \\
%			\ldots\\
%			\hline
%		\end{tabular}
%		}
%	\end{table*}

%\begin{figure}[htbp]
%		\begin{center}
%			\includegraphics[height=.4\textheight,width=.55\textwidth]{ejemploReticulo.png}
%		\end{center}
%		\caption{Ejemplo de retículo de conceptos de un contexto formal.}
%		\label{figura:ejemploReticulo}
%	\end{figure}
	
\noindent
\begin{minipage}{\textwidth}
  \begin{minipage}[b]{0.4\textwidth}
    \centering
    \captionof{table}{Ejemplo de contexto formal básico}
    {\scriptsize
    \begin{tabular}{ccccc}\hline
            & adulto & joven & femenino & masculino \\ \hline
       niño &  & \checkmark &  & \checkmark  \\
       niña &  & \checkmark & \checkmark &  \\
       hombre & \checkmark &  &  & \checkmark \\
       mujer & \checkmark &  & \checkmark &  \\
       \hline
      \end{tabular}
     }
      %\captionof{table}{Ejemplo de contexto formal básico}
  \end{minipage}
  \hfill
  \begin{minipage}[b]{0.4\textwidth}
    \centering
    \includegraphics[height=.2\textheight,width=.9\textwidth]{ejemploReticulo.png} %\rule{6.4cm}{3.6cm}
    \captionof{figure}{Retículo de conceptos}
    \label{figura:ejemploReticulo}
  \end{minipage}
\end{minipage}

\vspace{0.3cm}

A partir del retículo de conceptos podemos obtener el contexto formal que representa. Los nodos del diagrama representan los objetos y atributos del contexto formal. Cada atributo del contexto corresponde a un elemento del retículo que tiene el conjunto de atributos minimal que contiene ese atributo, y un conjunto de objetos formado por todos los objetos con ese atributo. Por tanto, en la Figura \ref{figura:ejemploReticulo} estaríamos hablando de: masculino, joven, adulto y femenino. Análogamente, cada objeto del contexto corresponde a un elemento del retículo que está formado por el conjunto de objetos minimal que contiene ese objeto, y un conjunto de atributos que consta de todos los atributos de dicho objeto. Esta vez, en la Figura \ref{figura:ejemploReticulo} nos referimos a: niño, hombre, niña y mujer.

Una alternativa gráfica de definir los conceptos formales es la siguiente. Desde la representación del contexto formal, un concepto formal se puede reconocer por medio de una submatriz de tal manera que todas las celdas de la submatriz son verdaderas (no es necesario que la submatriz esté formada por celdas contiguas). De esta forma, en la Tabla \ref{table:conceptosFormales}, vemos como podemos extraer un concepto formal como el par (\textit{\{Plymouth Satellite,Chevrolet Malibu\},\{Consumo, Cilindrada, Movilidad, Aceleración\}}) a partir del contexto formal. 

\begin{table*}[tb]
\caption{Conceptos formales a partir de la representación del contexto formal.}
\label{table:conceptosFormales} 
\centering
{\scriptsize
\begin{tabular}{lcccccc}
\hline
Modelo de coche & Consumo & Cilindrada & Movilidad & Potencia & Peso & Aceleración\\
\hline
Chevrolet Vega &  &  &  & \checkmark &  & \checkmark\\
Toyota Corolla &  &  &  & \checkmark &  & \\
Ford Pinto &  &  & \checkmark &  & \checkmark & \\
Volkswagen Beetle & \checkmark &  & \checkmark & \checkmark & \checkmark & \checkmark \\
Plymouth Satellite  & \cellcolor{gray!25}\checkmark & \cellcolor{gray!25}\checkmark & \cellcolor{gray!25}\checkmark &  &  & \cellcolor{gray!25}\checkmark \\
Chevrolet Malibu & \cellcolor{gray!25}\checkmark & \cellcolor{gray!25}\checkmark & \cellcolor{gray!25}\checkmark &  &  & \cellcolor{gray!25}\checkmark \\
\hline
\end{tabular}
}
\end{table*}

Otra alternativa aparece en la representación como grafo bipartito, donde un concepto formal\index{concepto formal} aparece como un subgrafo bipartito completo, es decir, aquel que tiene todas las aristas posibles. Las conexiones que se establecen en el retículo nos indican que el objeto $X$ tiene un atributo $Y$ si y sólo si existe un camino estrictamente creciente o estrictamente decreciente que permite ir de $X$ a $Y$ en el retículo.

Por otro lado, otro concepto equivalente a las conexiones de Galois\index{Conexión de Galois} y los operadores de cierre en el marco de FCA es el denominado sistema de implicaciones \cite{Ganter1997}. Como ya se adelantó en el Capítulo \ref{cap:introduccion}, las implicaciones constituyen el eje fundamental de trabajo en esta Tesis doctoral pues serán el mecanismo que nos permita abordar el problema del tratamiento eficiente de la información por medio de la lógica. Reflejan una forma relativamente sencilla de trasladar las relaciones lógicas que encontramos entre los atributos que poseen los objetos de nuestros datasets ya que combinan una forma muy simple y natural de escribir reglas del tipo \textit{si-entonces}\index{if-then rules} con una gestión muy eficiente y automatizada de la información. 

Un ejemplo básico del uso de implicaciones para reflejar información contenida en los datos podemos verlo utilizando la información de la Tabla \ref{table:hotelsExtract}. En ese ejemplo vemos que en ese dataset hay una relación que siempre se cumple y es la siguiente. Si el hotel provee servicio de \textit{aire acondicionado (AC)} entonces tiene servicio de \textit{Parking}. He ahí un claro ejemplo de regla \textit{si-entonces}, o en nuestro caso, de implicación, que se verifica en el contexto.

Este concepto de implicación es el que guía este trabajo otorgándonos un potencial para automatizar técnicas de razonamiento, con el beneficio que eso conlleva. Además, las implicaciones son elemento fundamental para el desarrollo de formas más eficientes que el retículo de conceptos de representación del conocimiento. 

%En la siguiente sección entraremos en detalle en el concepto de implicación, daremos las definiciones formales necesarias y expondremos la lógica que utilizaremos para sacar partido de ellas.

Por tanto, a partir de las implicaciones y de las propiedades básicas que verifican, podemos definir un cálculo lógico que nos permita realizar sistemas de deducción completos sobre el contexto actual. En cierto sentido, podríamos decir que hemos pasado de tener un conocimiento basado en ejemplos a disponer de un conocimiento abstracto que introduce sistemas de razonamiento más elaborados, partiendo únicamente de las observaciones concretas que hemos realizado, es decir, hemos aprendido reglas generales a partir de ejemplos.

Para finalizar, podemos considerar a las implicaciones, las conexiones de Galois y los operadores de cierre, como distintas alternativas de tratar la información que se puede extraer de un contexto formal. No obstante, las conexiones de Galois y los retículos de conceptos permiten una representación gráfica, mientras que los operadores de cierre y los sistemas de implicaciones nos facilitan el razonamiento por medio de la lógica.

En definitiva, todas estas nociones y propiedades son los fundamentos sobre los cuales se consolida FCA. Recordamos que la motivación original de FCA es la reestructuración de esta teoría utilizando la teoría matemática de conceptos y jerarquías con la intención de acercarse al raciocinio humano y facilitar las conexiones con las Lógicas Filosóficas del pensamiento \cite{Wille1982,Wille2005}.



\section{Lógica de Simplificación}
\label{sec:logicaSimplificacion}
Introducimos la lógica \slfde\index{\slfde} \cite{Enciso2002} describiendo sus cuatro pilares fundamentales: su lenguaje, su semántica, su sistema axiomático y su método de razonamiento automático. 

\subsection*{Lenguaje}
\noindent
\begin{definicion}
	Dado un conjunto $M$ finito de símbolos (denominados atributos) no vacío, el lenguaje sobre $M$ se define como: 
$$
\mathcal L_M:=\{A\to B\mid A,B\subseteq M\}
$$
\end{definicion}

Las fórmulas $A \to B$ se denominan \emph{implicaciones} y los conjuntos $A$ y $B$ reciben el nombre de \emph{premisa} y \emph{conclusión} de la implicación respectivamente. Los conjuntos $\sum \subseteq \mathcal L_M$ se denominan \emph{sistemas de implicaciones} sobre $M$.

Para simplificar la notación:
\begin{itemize}
	\item Usaremos letras minúsculas para denotar los elementos en $M$, mientras que las mayúsculas denotan sus subconjuntos.
	\item Omitimos las llaves en premisas y conclusiones, es decir, $abcde$ denota el conjunto $\{a,b,c,d,e\}$.
	\item Escribimos sus elementos por yuxtaposición, es decir, para $X \cup Y$ escribiremos $XY$.
	\item Para la diferencia, cambiamos $X-Y$ por $X \smallsetminus Y$.
\end{itemize}

\begin{definicion}[Implicación]\index{Implicación}
	Una implicación sobre un conjuntos de atributos $M$ es una expresión de la forma $X \to Y$, donde $X$ e $Y$ son conjuntos de atributos, i.e. $X \subseteq M$ y $Y \subseteq M$.
\end{definicion}

\begin{definicion}[Implicación trivial]\index{Implicación!trivial}
	Una implicación $X \to Y$ es trivial si $Y \subseteq X$.
\end{definicion}

\begin{definicion}[Implicación unitaria]\index{Implicación!unitaria}
	Sea $X$ un conjunto de atributos y $a$ un atributo del conjunto, $a \in X$, una implicación se dice unitaria si su conclusión es un conjunto unitario, i.e. $X \to a$.
\end{definicion}

\begin{ejemplo}
	Sea $M = \{a,b,c,d\}$ un conjunto de atributos. Se cumple que $\{a\to b, a\to c\} \equiv \{a\to bc\}$ porque para cada contexto formal $\mathbf{K} := (G,M,I)$, se verifica que $\{b,c\}' = \{b\}' \cup \{c\}'$. Por tanto, $\{a\}' \subseteq \{b\}'$ y $\{a\}' \subseteq \{c\}'$ si y sólo si $\{a\}' \subseteq \{b,c\}'$. Este ejemplo nos permite asegurar que cualquier sistema de implicaciones es equivalente a un sistema de implicaciones unitarias.
\end{ejemplo}

\begin{proposicion}
	Sea $M$ un conjunto de atributos y $\Sigma \subseteq \mathcal L_M$. Se verifica que:
	\[
		\Sigma \equiv \bigcup_{A\to B \in \Sigma} \{A \to b \mid b \in B\}
	\]
\end{proposicion}


\subsection*{Semántica}
\noindent
Tras la definición del lenguaje pasamos ahora a introducir la semántica utilizada, para lo cual utilizamos el concepto de \textit{operador de cierre}\index{operador de cierre} que reescribimos a continuación.

Un operador de cierre en $M$ es una función $c\colon 2^M \to 2^M$ que es \emph{extensivo} ($X\subseteq c(X) \ \forall X\subseteq M$), \emph{monótono} ($X_1\subseteq X_2$ implica que $c(X_1)\subseteq c(X_2)\ \forall X_1,X_2\subseteq M$), e \emph{idempotente} ($c(c(X))=c(X) \quad \forall X\subseteq M$). Los puntos fijos para $c$ (i.e. $X\subseteq M$ tales que $c(X)=X$) se denominan \emph{conjuntos cerrados}.

Un operador de cierre $c$ en $M$ recibe el nombre de \emph{modelo} para una implicación $A\to B\in\mathcal L_M$ si $B\subseteq  c(A)$; se denota $c\models A\to B$. Además, dado un sistema de implicaciones $\Sigma\subseteq \mathcal L_M$ y un operador de cierre $c$ en $M$, $c\models \Sigma$ denota que $c\models A\to B$ para todo $A\to B\in \Sigma$.

Decimos que $A\to B$ se \emph{deriva semánticamente} de $\Sigma$, denotado $\Sigma\models A\to B$, si cualquier modelo para $\Sigma$ también es un modelo para $A\to B$, i.e. $c\models \Sigma$ implica que $c\models A\to B$ para todo operador de cierre $c$ en $M$. 


\subsection*{Sistema Axiomático}
\noindent
Los conocidos Axiomas de Armstrong es el primer sistema descrito para tratar sistemas de implicaciones utilizando la lógica. Tiene su origen en \cite{Armstrong74} donde se utilizó para estudiar las propiedades de las dependencias funcionales en el modelo relacional de Codd \cite{Codd1970}. Este sistema ha tenido una clara influencia en el diseño de varias lógicas sobre implicaciones, todos ellas construidas alrededor del paradigma de la transitividad. Con el paso de los años, otros trabajos han propuesto sistemas axiomáticos equivalentes \cite{Ibaraki1999,Atzeni1993,Paredaens89}.

Estos axiomas son válidos al generar sólo implicaciones dentro del cierre del conjunto de implicaciones\index{conjuntos de implicaciones} (denotado como $F^+$) cuando se actúa sobre el conjunto $F$. También son completos ya que la aplicación repetitiva de las reglas generarán todas las implicaciones en el conjunto cerrado $F^+$. 

Este sistema axiomático\index{sistema axiomático} está formado por un axioma, denominado \textit{Reflexivo}, y dos reglas de inferencia, \textit{Aumentativa} y \textit{Transitiva} que se definen a continuación

Sean $A$, $B$, $C$ subconjuntos de atributos de $M$. Entonces, tenemos:
%\begin{center}
%	{\scriptsize \tt{[Ref]}}\ {\footnotesize $\displaystyle\frac{}{AB \to A}$} \quad
%	{\scriptsize \tt{[Aug]}}\ {\footnotesize $\displaystyle\frac{A \to B\cup C}{AC \to BC}$} \quad
%	{\scriptsize \tt{[Tran]}}\ {\footnotesize $\displaystyle\frac{A \to B,\ B \to C}{A \to C}$ }
%\end{center}

\begin{center}
	{\scriptsize \tt{[Ref]}}\ $\displaystyle\frac{}{AB \to A}$ \quad
	{\scriptsize \tt{[Aug]}}\ $\displaystyle\frac{A \to B\cup C}{AC \to BC}$ \quad
	{\scriptsize \tt{[Tran]}}\ $\displaystyle\frac{A \to B,\ B \to C}{A \to C}$ 
\end{center}

Si bien es cierto que el sistema de Armstrong es un trabajo que acumula innumerables citas en diferentes trabajos a lo largo de los años, su utilidad práctica se ve mermada debido a la dificultad que conlleva a la hora de plasmar las demostraciones. Es por ello que su uso está enfocado al estudio teórico de las implicaciones en vez de al desarrollo de nuevos algoritmos. No obstante, como se ha mencionado, es un buen punto de partida para el desarrollo de nuevas lógicas para el tratamiento de las implicaciones. 

En este punto es donde aparece la \slfde \cite{Mora2004}, que constituye un marco mucho más adecuado en términos de la automatización del razonamiento utilizando implicaciones. De hecho, \slfde será el núcleo fundamental de los métodos y las aplicaciones que se han llevado a cabo a lo largo de esta tesis doctoral.  

\slfde\index{\slfde} constituye una lógica válida y completa \cite{Enciso2002} en la que el principal elemento del lenguaje son las implicaciones. Se define formalmente como:
\begin{definicion}
	Sea $M$ un conjunto finito, la formulación de \slfde son expresiones, denominadas implicaciones, de la forma $ X \to Y$, donde $X$ e $Y$ son subconjuntos de $M$.
\end{definicion}

Las implicaciones se interpretan de forma conjuntiva, es decir, corresponden a las fórmulas $a_1\land \ldots\land a_n \to b_1\land \ldots\land b_m$ donde las proposiciones $a_1, \ldots  a_n,  b_1, \ldots, b_m$ son elementos del conjunto $M$. La interpretación es la siguiente:

\begin{definicion}
Sea $O$ y $M$ dos conjuntos finitos, que representan objetos y atributos respectivamente, y $I$ una relación en $O\times M$. Una implicación de \slfd, $X\to Y$, donde $X$ y $Y$ son subconjuntos de $M$, es válida en $I$ si y sólo si
$$\{o\in O\mid (o,x_i)\in I\, \ \forall x_i\in X\}\subseteq \{o\in O\mid (o,y_j)\in I\, \ \forall j_i\in Y\}$$
\end{definicion}

Además de su forma natural de expresar el conocimiento como regla, las implicaciones proporcionan un sistema de razonamiento lógico y de inferencia. Su tratamiento simbólico se propuso como hemos mencionado anteriormente en \cite{Armstrong74}, sin embargo, debido al rol central que desempeña la transitividad en ese sistema axiomático, el desarrollo de métodos ejecutables para resolver problemas de implicaciones se basa en métodos indirectos. \slfde evita el uso de la transitividad y se guía por la idea de simplificar el conjunto de implicaciones mediante la eliminación atributos redundantes de manera eficiente  \cite{Mora2012}. Por consiguiente, la introducción de \slfde abrió la puerta al desarrollo de métodos de razonamiento automatizados directamente basados en su novedoso sistema axiomático \cite{CorderoEMG14, CorderoEMOR15} que resumimos a continuación.

\slfde se define como el par ($L_{FD}, S_{FD}$) donde $S_{FD}$ tiene el siguiente esquema axiomático:

\begin{center}
{\scriptsize \tt{[Ref]}}\quad $\displaystyle\frac{}{A\cup B \to A}$  
\end{center}

\noindent
junto con las siguientes reglas de inferencia\index{reglas de inferencia}, denominadas \emph{fragmentación}\index{reglas de inferencia!fragmentación}, \emph{composición}\index{reglas de inferencia!composición} y \emph{simplificación}\index{reglas de inferencia!simplificación} respectivamente.

%\begin{center}
%{\scriptsize \tt{[Frag]}}\ {\footnotesize $\displaystyle\frac{A\to B\cup C}{A\to B}$}  \quad
%{\scriptsize \tt{[Comp]}}\  {\footnotesize $\displaystyle\frac{A\to B,\ C \to D}{A\cup C \to B\cup D}$ } \quad
%{\scriptsize \tt{[Simp]}}\  {\footnotesize $\displaystyle\frac{A\to B,\ C \to D}{A\cup(C\smallsetminus B)\to D}$}
%\end{center}

\begin{center}
	{\scriptsize \tt{[Frag]}}\ $\displaystyle\frac{A\to B\cup C}{A\to B}$  \quad
	{\scriptsize \tt{[Comp]}}\ $\displaystyle\frac{A\to B,\ C \to D}{A\cup C \to B\cup D}$ \quad
	{\scriptsize \tt{[Simp]}}\ $\displaystyle\frac{A\to B,\ C \to D}{A\cup(C\smallsetminus B)\to D}$
\end{center}

Remarcamos que el lenguaje \slfde considera como fórmulas válidas aquellas en donde cualquiera de sus dos partes puede ser el conjunto vacío, denotado $A \to \varnothing$ y $\varnothing \to A$. Sus significados fueron discutidos en \cite{Enciso2002}. En ese trabajo, también presentamos el siguiente resultado donde la derivación de una implicación $A \to B$ se reduce a la derivación de la fórmula $\varnothing \to B$ teniendo $\varnothing \to A$. Este resultado se usará más adelante en el diseño de nuestro novedoso método de cierre.

\begin{proposicion}
Para cualquier $\varGamma$ y $\forall X, Y\subseteq M$, $\varGamma \vdash X\to Y \text{ si y sólo si }\varGamma \cup \{\top \to X\} \vdash\top \to Y$
\end{proposicion}


\begin{definicion}
Se dice que una implicación $A\to B$ se deriva sintácticamente de un sistema de implicaciones $\Sigma$, y se denota por $\Sigma\vdash A\to B$, si existe una secuencia de implicaciones $\sigma_1,\dots,\sigma_n \in \mathcal L_M$ tal que $\sigma_n=(A\to B)$ y, para todo $1\leq i\leq n$, la implicación $\sigma_i$ satisface una de las siguientes condiciones:
	\begin{itemize}
		\item $\sigma_i$ es un axioma, es decir, verifica el esquema {\tt [Ref]}.
		\item $\sigma_i\in \Sigma$.
		\item $\sigma_i$ se obtiene a partir de implicaciones pertenecientes a $\{\sigma_j\mid 1\le j<i\}$ aplicando las reglas de inferencia {\tt [Frag]}, {\tt [Comp]} o {\tt [Simp]}.
	\end{itemize}
\end{definicion}

La secuencia $\sigma_1,\dots,\sigma_n$ constituye una \emph{demostración} para $\Sigma\vdash A\to B$.

La derivación sintáctica\index{derivación sintáctica} proporciona una gestión automatizada de las implicaciones. En particular, se puede usar para resolver el denominado problema de las implicaciones: dado un conjunto de implicaciones $\Gamma$ y una implicación $A\to B$, queremos responder si $A\to B$ se deduce de $\Gamma$. Este problema se puede abordar utilizando el operador de cierre.

El sistema axiomático es válido y completo, es decir, se cumple que la derivación sintáctica y semántica\index{derivación semántica} coinciden. Esto significa que cada regla que se puede deducir con este sistema puede derivarse semánticamente (el sistema axiomático es válido) y viceversa (el sistema axiomático es completo).

\begin{theorem}
Sea $M$ un conjunto finito no vacío de atributos, $\Sigma \subseteq \mathcal L_M$ y $A\to B \in \mathcal L_M$. Entonces, $\Sigma\models A\to B$ si y sólo si $\Sigma\vdash A\to B$.  
\end{theorem}

La derivación sintáctica nos conduce a un nuevo operador de cierre denominado \textit{cierre sintáctico}.

\begin{definicion}
	Dado un conjunto de implicaciones $\Sigma \subseteq \mathcal L_M$, un conjunto $X \subseteq M$ se dice cerrado respecto de $\Sigma$ si $A \subseteq X$ implica $B \subseteq X$ para toda $A\to B\in \Sigma$. Debido a que $M$ es cerrado con respecto a $\Sigma$ y cualquier intersección de conjuntos cerrados es cerrada, podemos definir el siguiente operador de cierre:
$$
(\ )^+_\Sigma\colon 2^M\to 2^M\qquad X^+_\Sigma=\bigcap\{Y\subseteq M\mid Y\text{ es cerrado con respecto a }\Sigma\text{ y }X\subseteq Y \}
$$
\end{definicion}

El siguiente teorema es esencial para calcular cierres y a su vez también para introducir un método de razonamiento automático.
 
\begin{theorem}[Teorema de deducción]\index{Teorema de deducción}
\label{empty_set}
	Sea $A\to B\in\mathcal L_M$ y $\Sigma\subseteq \mathcal L_M$. Entonces, 
%\vspace*{-0.2cm}
	$$\Sigma \vdash A\to B \quad \mbox{sii} \quad B\subseteq A^+_\Sigma\quad \mbox{sii} \quad 
 	\{\varnothing\to A\} \cup \Sigma \vdash\{\varnothing\to B\}$$
\end{theorem}
 
\begin{corolario}
	Sea $\Sigma\subseteq \mathcal L_M$. $\forall X\subseteq M$, se tiene que 
	$$
	X^+_\Sigma=\max\{Y\subseteq M\mid \Sigma\vdash X\to Y \}.
	$$
\end{corolario}

La principal ventaja de \slfde radica en que las reglas de inferencia pueden considerarse reglas de equivalencia. Como consecuencia, \slfde se ha podido utilizar como núcleo principal para el desarrollo de métodos automáticos para diversas aplicaciones (e.g. obtener claves minimales, cálculos del cierre) como veremos más adelante. Un estudio más detallado al respecto, incluyendo teoremas y demostraciones, puede verse en \cite{Mora2012}.


\subsection*{Método de Razonamiento Automático}
\noindent
El problema de las implicaciones se ha abordado tradicionalmente utilizando un método básico que recibe $A\subseteq M$ como entrada y utiliza de forma exhaustiva la
relación de subconjuntos recorriendo iterativamente $\Gamma$ y agregando nuevos elementos al cierre. Este método, propuesto en la década de 1970 \cite{Maier83} y puede considerarse la base principal donde se han sustentado tantos otros. Podemos verlo detallado en el Algoritmo \ref{algoritmo:cierreUllman}\index{Cierre clásico}.
\begin{algorithm2e}
%\footnotesize
%\SetAlgoLined
%\SetAlgoFuncName{SchemePruning}
%\dontprintsemicolon
%\KwIn{}
\KwData{$ \varGamma$, $A$}
\KwResult{$A^+_\Gamma$ }
%\KwOut{$X^+$}
    \Indp
    \Begin{
     $A^+_\Gamma:=A$
		
     \Repeat{$A^+_\Gamma=A^\prime$}{
        $A^\prime:=A^+_\Gamma$
				
       \ForEach{ $X \to Y \in  \varGamma$}{
           \If{$X \subseteq A^+_\Gamma$ {\bf and} $Y\not\subseteq A^+_\Gamma$}{
               $A^+_\Gamma:=A^+_\Gamma \cup \{Y\}$
           }%end if
       }% end foreach
		}%until 
   return $A^+_\Gamma$
   }%end begin
 \caption{Cierre clásico}
 \label{algoritmo:cierreUllman}
\end{algorithm2e}

Más tarde, varios autores han desarrollado otros métodos mediante el uso de diferentes técnicas, resolviendo eficientemente este problema en tiempo lineal. En \cite{Paredaens1989}, los autores muestran que la complejidad del problema de cierre es $\mathtt{O}(|{\mathcal{A}}|\, |{ \varGamma}|)$. En \cite{Mora2012}, presentamos un método de cierre de atributos estrechamente relacionado con el sistema axiomático \slfde. También demostramos que nuestro método tiene un mejor rendimiento que aquellos basados en el cierre clásico.

Por nuestra parte, el método de razonamiento automático en \slfde se basa en el Teorema de Deducción\index{Teorema de deducción} y un conjunto de equivalencias. Siguiendo la forma habitual, dos sistemas de implicaciones $\Sigma_1,\Sigma_2\subseteq \mathcal L_M$ se dicen equivalentes si sus modelos coinciden, es decir, se cumple que para todo operador de cierre en $M$, $c\models \Sigma_1$ sii $c\models \Sigma_2$.

La siguiente proposición proporciona las tres equivalencias, denominadas también: \textit{Fragmentación, Composición y Simplificación}, que se se aplican y justifican el nombre de la lógica \slfde porque, si las leemos de izquierda a derecha, eliminan la información redundante en el sistema de implicaciones (cf. \cite{Mora2012}).

\begin{proposicion}\label{simpl_equiv}
	Sean $A,B,C,D\subseteq M$. Se verifican las siguientes equivalencias:
	\begin{enumerate}
		\item {\small$\{A\to B\}\equiv\{A\to B\smallsetminus A\}$}
		\item {\small$\footnotesize\{A\to B, A\to C\}\equiv\{A\to B\cup C\}$}
		\item {\small$A\cap B=\varnothing$ y $A\subseteq C$ implica $\footnotesize\{A\to B, C \to D\}\equiv  \{A\to B, C\smallsetminus B\to D\smallsetminus B\}$}
\end{enumerate}
%
%\begin{equation*}
%\begin{split}
%\{X\to Y,\ U \to V\}& \equiv  \{X\to Y, (U-Y)\to(V-Y)\}\\
%\end{split}
%\end{equation*}
\end{proposicion}

Basándonos en el Teorema de Deducción y las equivalencias anteriores, en \cite{Mora2012}, los autores presentan un novedoso algoritmo para calcular cierres utilizando \slfde, denominado {\tt Cls}\index{Cierre \slfd} que actúa según el siguiente procedimiento.

Dado un conjunto $A\subseteq M$ y un conjunto de implicaciones $\Sigma$, {\tt Cls} calcula el par $(A^+_\Sigma,\Gamma)$, siendo $A^+_\Sigma$ el cierre sintáctico de $A$ con respecto a $\Sigma$ y $\Gamma$ el conjunto residual de implicaciones respecto a $\varnothing \to A^+_\Sigma$. Esto permite determinar si una implicación $A \to B$ puede deducirse de $\Sigma$.

Los pasos del algoritmo desglosados en lenguaje natural y de forma más detallada son:
\begin{itemize}
 \item En primer lugar, se incluye la fórmula $\varnothing \to A$ en $\Sigma$ y se usa como semilla por el método de razonamiento mediante las equivalencias mencionadas en la proposición anterior.
 \item A continuación, el algoritmo entra en un proceso iterativo en el cual se irán aplicando las siguientes equivalencias mientras no se alcance la condición de parada.
	\begin{itemize}
		\item {\bf Eq. I}: Si $B\subseteq A$ entonces $\{\emptyset\to A,B\to C\} \equiv \{\emptyset\to A\cup C\}$.
		\item {\bf Eq. II}: Si $C\subseteq A$ entonces $\{\emptyset\to A,B\to C\} \equiv \{\emptyset\to A\}$.
		\item {\bf Eq. III}: En otro caso  $\{\emptyset\to A,B\to C\} \equiv \{\emptyset\to A,B\smallsetminus A\to C\smallsetminus A\}$.
	\end{itemize} 
 \item En el momento en el que no sea posible aplicar ninguna de las equivalencias anteriores, el algoritmo termina dando como resultado el conjunto cierre $A^+_\Sigma$, es decir, el cierre sintáctico de $A$ con respecto a $\Sigma$, y además, el conjunto residual de implicaciones $\Gamma$.
\end{itemize}

Formalmente, el algoritmo {\tt Cls} puede verse en la Función \ref{algoritmo:Cls}.
\begin{function}[h]
\caption{Cls($A$,$\Sigma$) }\label{algoritmo:Cls}
\small
\DontPrintSemicolon
\SetKwInOut{Input}{input}
\SetKwInOut{Output}{output}
\Input{$A$, conjunto de atributos sobre los que se quiere calcular el cierre; \\
$\Sigma$, un sistema de implicaciones;}
\Output{$A^+_\Sigma$, cierre sintáctico de $A$ con respecto a $\Sigma$; \\ 
$\Gamma$, el sistema de implicaciones residual;}
 
 
%    \Begin{

\Repeat{$\Gamma=\Sigma$}{
$\Gamma:=\Sigma$

$\Sigma:=\varnothing$
\ForEach{$B\to C\in \Gamma$}{
\lIf{$B\subseteq A$}{

\ \ \ \ {$A:=A\cup B$}
}
\lElseIf{$C\not\subseteq A$}{

\ \ \ \ {$\Sigma:=\Sigma\cup\{B\smallsetminus A\to C\smallsetminus A\}$}
}
}
}
 
     \Return $(A,\Gamma)$   
 
%   }%end begin
\end{function}


Aunque es cierto que existen en la literatura numerosas propuestas de algoritmos para calcular el cierre (la mayoría de ellas como modificaciones del cierre clásico de Maier \cite{Maier83}), la principal novedad y ventaja que aporta {\tt Cls} es que, de manera simultánea, también reducimos el número de implicaciones, guardando el conocimiento complementario que describe la información que no pertenece al cierre. Este hecho nos coloca sin lugar a dudas en una posición privilegiada, ya que nos evita el elevado coste de minería de datos para extraer el nuevo conjunto de implicaciones para el conjunto de datos reducido después de cada aplicación del método, algo imprescindible con las implementaciones clásicas. En consecuencia, el proceso supera los costos de minería de datos preservando una complejidad lineal a lo largo del proceso.

Finalizamos este apartado mostrando un ejemplo de aplicación del algoritmo del cierre propuesto.

\begin{ejemplo}
\label{ejemplo:basico} 
	Sean $\Sigma=\{a\to c, bc\to d, c\to ae, d\to e\}$ y $A=\{c,e\}$. El algoritmo {\tt Cls} devuelve $A^+=\{a,c,e\}$. La siguiente tabla muestra la traza de ejecución paso a paso del algoritmo. 

%{\small
$$\begin{array}{l||lllll}
\hline
Guide &  & \multicolumn{4}{c}{\Sigma } \\
%\hline
\emptyset\to ce &  & a\to c \quad& bc\to d \quad& c\to ae\quad& d\to e \quad\\
\hline
\hline
\emptyset\to ce &   & a\to \!\!\not\! c & b\!\!\not\! c\to d & \!\!\not\! c\to a\!\!\not\! e& d\to \!\!\not\! e \\
\emptyset\to ace &   &  & b\to d & & \\
%\emptyset\to acef &   &  & b\to d &  & \\
\hline
\end{array}
$$
%}%end small

Una vez finalizado la ejecución del algoritmo, obtenemos: ${\tt Cls}(\{c,e\},\{a\to c, bc\to d, c\to ae, d\to e\})=(\{a,c,e\},\{b\to d\})$, donde el cierre es $\{c,e\}^+_\Sigma = \{a,c,e\}$  y el conjunto residual de implicaciones queda como:  $\Gamma = \{b \to d\}$.
\end{ejemplo}%

% =====================================================================
% =====================================================================
% =====================================================================